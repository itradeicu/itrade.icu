> > æœ¬æ–‡ä¸º [https://www.itrade.icu](https://www.itrade.icu) é‡åŒ–äº¤æ˜“å®žéªŒå®¤å‡ºå“ã€‚è®¿é—®èŽ·å–æ›´å¤šç¦åˆ©

è®¿é—®èŽ·å–æ›´å¤šç¦åˆ©




# ðŸ“˜ æŠ¢å…ˆæŽŒæ¡ï¼Freqtrade ç­–ç•¥â€œå¯åŠ¨+å¾ªçŽ¯â€åŒæ ¸ï¼Œäº¤æ˜“æœºå™¨äººé€†è¢­ç§˜ç±ï¼

åœ¨ Freqtrade ç­–ç•¥æ¡†æž¶ä¸­ï¼Œ`bot_start()` å’Œ `bot_loop_start()` æ˜¯ä¸¤ä¸ªé‡è¦çš„ç”Ÿå‘½å‘¨æœŸå›žè°ƒå‡½æ•°ï¼Œå®ƒä»¬ä¸ºå¼€å‘è€…æä¾›äº†åœ¨æœºå™¨äººå¯åŠ¨åŠä¸»å¾ªçŽ¯å¼€å§‹æ—¶æ’å…¥è‡ªå®šä¹‰é€»è¾‘çš„èƒ½åŠ›ã€‚
ç†è§£å’Œåˆç†åˆ©ç”¨è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´çµæ´»åœ°æŽ§åˆ¶äº¤æ˜“æœºå™¨äººè¡Œä¸ºï¼Œæå‡ç­–ç•¥è¡¨çŽ°ä¸Žæ‰©å±•æ€§ã€‚

---

## âš™ï¸  bot_start() - æœºå™¨äººå¯åŠ¨

### ä½œç”¨

* åœ¨æœºå™¨äººå¯åŠ¨å¹¶å®Œæˆåˆå§‹åŒ–åŽè°ƒç”¨ä¸€æ¬¡
* é€‚åˆæ”¾ç½®å¯åŠ¨æ—¶éœ€è¦æ‰§è¡Œçš„é€»è¾‘ï¼Œå¦‚ï¼š

  * é¢„åŠ è½½æ•°æ®
  * åˆå§‹åŒ–è‡ªå®šä¹‰èµ„æºæˆ–æœåŠ¡
  * å‘é€å¯åŠ¨é€šçŸ¥
  * æ‰“å°æ¬¢è¿Žä¿¡æ¯æˆ–æ—¥å¿—

### æ³¨æ„ç‚¹

* åªè°ƒç”¨ä¸€æ¬¡ï¼Œå¯åŠ¨æ—¶è§¦å‘
* è¯¥å‡½æ•°ä¸åº”é˜»å¡žå¤ªä¹…ï¼Œé¿å…å½±å“å¯åŠ¨æ•ˆçŽ‡

### ç¤ºä¾‹ä»£ç 

```python
def bot_start(self, **kwargs):
    """
    æœºå™¨äººå¯åŠ¨æ—¶è°ƒç”¨ï¼Œä»…æ‰§è¡Œä¸€æ¬¡ã€‚
    """
    print("[bot_start] æœºå™¨äººå¯åŠ¨ï¼Œåˆå§‹åŒ–èµ„æº...")
    # ç¤ºä¾‹ï¼šåŠ è½½é¢å¤–æ•°æ®
    self.custom_data = self.load_custom_data()
    print("[bot_start] è‡ªå®šä¹‰æ•°æ®åŠ è½½å®Œæˆã€‚")

def load_custom_data(self):
    # å‡è®¾è‡ªå®šä¹‰æ•°æ®åŠ è½½å‡½æ•°
    return {"key": "value"}
```

---

## âš™ï¸ bot_loop_start() - æœºå™¨äººå¾ªçŽ¯æ‰§è¡Œ

### ä½œç”¨

* åœ¨æ¯ä¸ªä¸»äº¤æ˜“å¾ªçŽ¯å¼€å§‹æ—¶è°ƒç”¨ï¼ˆå³æ¯ä¸ªæ–°è½®æ¬¡çš„äº‹ä»¶å¾ªçŽ¯å¼€å§‹ï¼‰
* é€‚åˆç”¨äºŽï¼š

  * æ¯è½®å¼€å§‹æ—¶çš„çŠ¶æ€åˆ·æ–°
  * ç›‘æŽ§æˆ–æ—¥å¿—æ‰“å°
  * åŠ¨æ€å‚æ•°è°ƒæ•´
  * å‘¨æœŸæ€§å¤–éƒ¨APIè°ƒç”¨

### æ³¨æ„ç‚¹

* å¯èƒ½è¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ‰§è¡Œé€»è¾‘éœ€è½»é‡ï¼Œé¿å…é˜»å¡ž
* å¯ä»¥é€šè¿‡è¯¥å‡½æ•°å®žçŽ°åŠ¨æ€è°ƒæ•´ç­–ç•¥è¿è¡Œæ—¶çš„é…ç½®

### ç¤ºä¾‹ä»£ç 

```python
def bot_loop_start(self, **kwargs):
    """
    æ¯æ¬¡ä¸»äº¤æ˜“å¾ªçŽ¯å¼€å§‹æ—¶è°ƒç”¨ã€‚
    """
    print("[bot_loop_start] æ–°ä¸€è½®äº¤æ˜“å¾ªçŽ¯å¼€å§‹ã€‚")
    # ç¤ºä¾‹ï¼šåŠ¨æ€åˆ·æ–°æŸä¸ªçŠ¶æ€
    self.dynamic_factor = self.calculate_dynamic_factor()

def calculate_dynamic_factor(self):
    # ä¼ªä»£ç ï¼šè®¡ç®—ä¸€ä¸ªåŠ¨æ€å› å­
    return 42
```

---

## ðŸ” ç»“åˆç¤ºä¾‹ï¼šå®žç”¨åº”ç”¨åœºæ™¯

```python
class MyStrategy(IStrategy):
    def bot_start(self, **kwargs):
        print("[bot_start] ç­–ç•¥å¯åŠ¨ï¼ŒåŠ è½½é…ç½®ã€‚")
        self.trade_count = 0

    def bot_loop_start(self, **kwargs):
        print("[bot_loop_start] æ–°å¾ªçŽ¯å¼€å§‹ï¼Œå·²å®Œæˆäº¤æ˜“æ¬¡æ•°:", self.trade_count)
        # æ¯è½®æ¸…ç†æˆ–åˆ·æ–°æŸäº›çŠ¶æ€
        self.refresh_market_data()

    def refresh_market_data(self):
        # æ¨¡æ‹Ÿåˆ·æ–°
        print("[bot_loop_start] å¸‚åœºæ•°æ®åˆ·æ–°å®Œæ¯•ã€‚")

    def populate_entry_trend(self, dataframe, metadata):
        # ç®€å•ç¤ºä¾‹ç­–ç•¥ä¿¡å·
        dataframe['enter_long'] = dataframe['close'] > dataframe['open']
        return dataframe

    def populate_exit_trend(self, dataframe, metadata):
        dataframe['exit_long'] = dataframe['close'] < dataframe['open']
        return dataframe

    def order_filled(self, trade, order):
        self.trade_count += 1
        print(f"[order_filled] æˆäº¤æ•°é‡: {order.amount_filled}")
```

---

## ðŸ§  æ€»ç»“

| å›žè°ƒå‡½æ•°               | è§¦å‘æ—¶æœº         | å…¸åž‹ç”¨é€”               | æ³¨æ„äº‹é¡¹       |
| ------------------ | ------------ | ------------------ | ---------- |
| `bot_start()`      | æœºå™¨äººå¯åŠ¨åŽè°ƒç”¨ä¸€æ¬¡   | åˆå§‹åŒ–æ•°æ®ã€è‡ªå®šä¹‰èµ„æºã€å‘é€é€šçŸ¥   | ä¸å®œé˜»å¡žï¼Œæ‰§è¡Œå¿«é€Ÿ  |
| `bot_loop_start()` | æ¯ä¸ªäº¤æ˜“ä¸»å¾ªçŽ¯å¼€å§‹æ—¶è°ƒç”¨ | åŠ¨æ€åˆ·æ–°çŠ¶æ€ã€æ—¥å¿—æ‰“å°ã€å¤–éƒ¨æ•°æ®æ‹‰å– | å¤šæ¬¡è°ƒç”¨ï¼Œè½»é‡çº§æ“ä½œ |

---

é€šè¿‡åˆç†åˆ©ç”¨ `bot_start()` å’Œ `bot_loop_start()`ï¼Œä½ å¯ä»¥åœ¨ Freqtrade äº¤æ˜“æœºå™¨äººç”Ÿå‘½å‘¨æœŸçš„å…³é”®èŠ‚ç‚¹æ’å…¥è‡ªå®šä¹‰é€»è¾‘ï¼Œæå‡ç­–ç•¥çµæ´»æ€§å’Œè¿è¡Œæ•ˆçŽ‡ã€‚
è¿™ä¸¤ä¸ªå‡½æ•°å±žäºŽç­–ç•¥ç±»å›žè°ƒæŽ¥å£çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œç†Ÿç»ƒæŽŒæ¡åŽå¯ä»¥æœ‰æ•ˆæ”¯æŒå¤æ‚äº¤æ˜“ç­–ç•¥çš„å¼€å‘å’Œè°ƒè¯•ã€‚
