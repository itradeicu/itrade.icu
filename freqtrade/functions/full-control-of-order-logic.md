> æœ¬æ–‡ä¸º [https://www.itrade.icu](https://www.itrade.icu) é‡åŒ–äº¤æ˜“å®éªŒå®¤å‡ºå“ã€‚è®¿é—®è·å–æ›´å¤šç¦åˆ©

è®¿é—®è·å–æ›´å¤šç¦åˆ©



# ğŸ“˜ æ™ºèƒ½æŒ‚å•ç­–ç•¥ï¼Œè®©ä½ çš„èµ„é‡‘åˆ©ç”¨ç‡æå‡ 50%+

åœ¨é‡åŒ–äº¤æ˜“ä¸­ï¼ŒæŒ‚å•ä»·æ ¼å’ŒæŒ‚å•è¶…æ—¶æ˜¯å†³å®šäº¤æ˜“æ•ˆç‡å’Œé£é™©ç®¡ç†çš„å…³é”®å› ç´ ã€‚  
Freqtrade æœºå™¨äººæä¾›äº†å¤šç§è‡ªå®šä¹‰æŒ‚å•æ§åˆ¶çš„é’©å­å‡½æ•°ï¼Œå¸®åŠ©ä½ ç²¾ç»†åŒ–æ§åˆ¶ä¹°å–ä»·æ ¼å’ŒæŒ‚å•ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…å› æŒ‚å•åƒäºæˆ–èµ„é‡‘è¢«æ— æ•ˆå ç”¨å¯¼è‡´çš„æœºä¼šæŸå¤±ã€‚

æœ¬æ–‡å°†å›´ç»•ä¸‰ä¸ªå‡½æ•°è¯¦ç»†å±•å¼€ï¼š
- `custom_entry_price`ï¼šè‡ªå®šä¹‰ä¹°å…¥æŒ‚å•ä»·æ ¼ï¼Œé¿å…æŒ‚å•è¢«ç¬é—´åƒæ‰æˆ–æˆæœ¬è¿‡é«˜ã€‚
- `check_entry_timeout`ï¼šåˆ¤æ–­ä¹°å…¥æŒ‚å•æ˜¯å¦è¶…æ—¶ï¼ŒåŠæ—¶å–æ¶ˆæœªæˆäº¤æŒ‚å•ï¼Œé‡Šæ”¾èµ„é‡‘ã€‚
- `check_exit_timeout`ï¼šåˆ¤æ–­å–å‡ºæŒ‚å•æ˜¯å¦è¶…æ—¶ï¼Œé˜²æ­¢å–å•é•¿æ—¶é—´æ— æ•ˆæŒ‚å•ã€‚

---

## 1. è‡ªå®šä¹‰ä¹°å…¥æŒ‚å•ä»·æ ¼ â€”â€” `custom_entry_price`

åœ¨ Freqtrade ä¸­ï¼Œé»˜è®¤ä¹°å…¥ä»·æ ¼ç”±äº¤æ˜“æ‰€å¸‚ä»·æˆ–ç­–ç•¥é»˜è®¤é™ä»·å†³å®šï¼Œä½†åœ¨å®é™…äº¤æ˜“ä¸­ï¼Œç²¾å‡†æ§åˆ¶æŒ‚å•ä»·æ ¼éå¸¸é‡è¦ã€‚  

å¦‚æœæŒ‚å•ä»·æ ¼è®¾ç½®è¿‡äºä¿å®ˆï¼Œå¯èƒ½å¯¼è‡´ä¹°å•æ— æ³•å¿«é€Ÿæˆäº¤ï¼Œé”™å¤±è‰¯æœºï¼›ä»·æ ¼è¿‡é«˜ï¼Œåˆ™ä¼šå¢åŠ ä¹°å…¥æˆæœ¬ã€‚  

`custom_entry_price` å‡½æ•°å…è®¸ä½ åœ¨é™ä»·ä¹°å…¥æ—¶ï¼Œè‡ªå®šä¹‰æŒ‚å•ä»·æ ¼ï¼Œå®ç°ç­–ç•¥æ›´çµæ´»çš„ä¹°å…¥é€»è¾‘ã€‚

### ä½¿ç”¨åœºæ™¯ä¸¾ä¾‹

- **æ¿€è¿›ç­–ç•¥**ï¼šä½¿ç”¨å¸‚ä»·æˆ–æ¥è¿‘å¸‚ä»·ä»·æ ¼ï¼Œä¿è¯æŒ‚å•è¿…é€Ÿæˆäº¤ã€‚
- **ä¿å®ˆç­–ç•¥**ï¼šæŒ‚å•ä»·æ ¼ç¨å¾®ä½äºå½“å‰ä»·æ ¼ï¼Œè¿½æ±‚æ›´ä¼˜ä¹°å…¥æˆæœ¬ã€‚
- **æ··åˆç­–ç•¥**ï¼šæ ¹æ®å¸‚åœºæ³¢åŠ¨æˆ–å…¶ä»–ä¿¡å·åŠ¨æ€è°ƒæ•´æŒ‚å•ä»·æ ¼ã€‚

### å®Œæ•´ä»£ç ç¤ºä¾‹

```python
def custom_entry_price(self, pair, current_time, proposed_rate, entry_tag, **kwargs) -> float:
    """
    è‡ªå®šä¹‰ä¹°å…¥æŒ‚å•ä»·æ ¼

    å‚æ•°:
    - pair: äº¤æ˜“å¯¹åç§°ï¼Œå¦‚ 'BTC/USDT'
    - current_time: å½“å‰æ—¶é—´æˆ³
    - proposed_rate: ç³»ç»Ÿæ¨èä¹°å…¥ä»·æ ¼
    - entry_tag: äº¤æ˜“æ ‡ç­¾ï¼Œæ–¹ä¾¿å¤šç­–ç•¥åŒºåˆ†
    - kwargs: å…¶ä»–å‚æ•°

    è¿”å›:
    - float: è‡ªå®šä¹‰ä¹°å…¥æŒ‚å•ä»·æ ¼
    """

    if entry_tag == "aggressive":
        # æ¿€è¿›ç­–ç•¥ï¼Œä½¿ç”¨æ¨èä»·æ ¼ï¼Œå°½å¿«æˆäº¤
        return proposed_rate
    elif entry_tag == "conservative":
        # ä¿å®ˆç­–ç•¥ï¼Œä»·æ ¼ä¸‹è°ƒ0.5%
        return proposed_rate * 0.995
    else:
        # é»˜è®¤è½»å¾®ä¸‹è°ƒ0.2%
        return proposed_rate * 0.998
```

### å°ç»“

é€šè¿‡è¯¥æ–¹æ³•ï¼Œç­–ç•¥å¯ä»¥æ ¹æ®ä¸åŒå¸‚åœºç¯å¢ƒå’Œèµ„é‡‘ç®¡ç†éœ€æ±‚çµæ´»è°ƒæ•´ä¹°å…¥ä»·æ ¼ï¼Œæœ‰æ•ˆé¿å…æŒ‚å•è¢«ç¬é—´åƒæ‰æˆ–æˆäº¤æˆæœ¬åé«˜ã€‚

---

## 2. æŒ‚å•è¶…æ—¶å¤„ç†ï¼š`check_entry_timeout` ä¸ `check_exit_timeout`

é™ä»·å•æŒ‚å•è¿‡ç¨‹ä¸­ï¼Œæœ€æ€•å‡ºç°æŒ‚å•â€œå¡æ­»â€å¯¼è‡´èµ„é‡‘è¢«å ç”¨ï¼Œä½†è®¢å•å´é•¿æ—¶é—´æ— æ³•æˆäº¤ã€‚  

è¿™ç§æƒ…å†µä¸ä»…å½±å“èµ„é‡‘å‘¨è½¬ï¼Œè¿˜ä¼šé”™å¤±æ›´å¥½äº¤æ˜“æœºä¼šã€‚

Freqtrade é€šè¿‡ `check_entry_timeout` å’Œ `check_exit_timeout` ä¸¤ä¸ªå‡½æ•°ï¼Œå…è®¸ç­–ç•¥å¼€å‘è€…è‡ªå®šä¹‰è¶…æ—¶å–æ¶ˆæŒ‚å•çš„è§„åˆ™ã€‚

### è®¾è®¡æ€è·¯

- **é«˜ä»·å¸ç§**ï¼ˆå¦‚ BTC/USDTï¼‰ï¼Œå¯¹èµ„é‡‘å ç”¨æ•æ„Ÿï¼ŒæŒ‚å•è¶…è¿‡çŸ­æ—¶é—´æœªæˆäº¤åº”åŠæ—¶å–æ¶ˆã€‚
- **ä¸­ä»·å¸ç§**ï¼ˆå¦‚ BNBã€LTCï¼‰ï¼Œé€‚åº¦ç¼©çŸ­æŒ‚å•ç­‰å¾…æ—¶é—´ã€‚
- **ä½ä»·å¸ç§**ï¼ˆå¦‚ SHIBã€DOGEï¼‰ï¼Œä»·æ ¼ä½æ³¢åŠ¨å¤§ï¼Œå¯å…è®¸æ›´é•¿æ—¶é—´æŒ‚å•ã€‚

### å…·ä½“ä»£ç ç¤ºä¾‹

```python
from datetime import timedelta

def check_entry_timeout(self, pair: str, trade: Trade, order: Order,
                        current_time: datetime, **kwargs) -> bool:
    """
    åˆ¤æ–­ä¹°å…¥æŒ‚å•æ˜¯å¦è¶…æ—¶ï¼Œå†³å®šæ˜¯å¦å–æ¶ˆã€‚

    è¶…æ—¶é€»è¾‘ï¼š
    - ä»·æ ¼ > 100 USDTï¼ŒæŒ‚å•è¶…5åˆ†é’Ÿå–æ¶ˆ
    - ä»·æ ¼ä»‹äº10~100 USDTï¼ŒæŒ‚å•è¶…3åˆ†é’Ÿå–æ¶ˆ
    - ä»·æ ¼ < 1 USDTï¼ŒæŒ‚å•è¶…24å°æ—¶å–æ¶ˆ

    è¿”å›:
    - True è¡¨ç¤ºå–æ¶ˆæŒ‚å•
    - False è¡¨ç¤ºç»§ç»­ç­‰å¾…æˆäº¤
    """

    if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):
        return True
    elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):
        return True
    elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):
        return True
    return False


def check_exit_timeout(self, pair: str, trade: Trade, order: Order,
                       current_time: datetime, **kwargs) -> bool:
    """
    åˆ¤æ–­å–å‡ºæŒ‚å•æ˜¯å¦è¶…æ—¶ï¼Œå†³å®šæ˜¯å¦å–æ¶ˆã€‚

    é€»è¾‘åŒä¹°å…¥æŒ‚å•è¶…æ—¶åˆ¤æ–­ï¼Œåˆ†ä»·ä½è®¾å®šä¸åŒè¶…æ—¶é˜ˆå€¼ã€‚
    """
    if trade.open_rate > 100 and trade.open_date_utc < current_time - timedelta(minutes=5):
        return True
    elif trade.open_rate > 10 and trade.open_date_utc < current_time - timedelta(minutes=3):
        return True
    elif trade.open_rate < 1 and trade.open_date_utc < current_time - timedelta(hours=24):
        return True
    return False
```

### è¿›ä¸€æ­¥ä¼˜åŒ–å»ºè®®

- å¯æ ¹æ®å¸‚åœºæ³¢åŠ¨åŠ¨æ€è°ƒæ•´è¶…æ—¶é˜ˆå€¼
- ç»“åˆè®¢å•è–„æ·±åº¦ã€æˆäº¤é‡ç­‰æŒ‡æ ‡ï¼Œæ™ºèƒ½åˆ¤æ–­æ˜¯å¦å–æ¶ˆæŒ‚å•
- å¯¹ä¸åŒç­–ç•¥æˆ–å“ç§è®¾å®šä¸åŒçš„è¶…æ—¶è§„åˆ™

---

## 3. æ³¨æ„äº‹é¡¹ï¼šé™ä»·å•é…ç½®ä¸æ‰§è¡Œ

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`custom_entry_price` å’ŒæŒ‚å•è¶…æ—¶åˆ¤æ–­å‡½æ•°åªæœ‰åœ¨ä½ ä½¿ç”¨**é™ä»·å•**æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚

å¦‚æœä½ ä½¿ç”¨å¸‚ä»·å•æˆ–å…¶ä»–ç±»å‹è®¢å•ï¼Œè¿™äº›å‡½æ•°ä¸ä¼šç”Ÿæ•ˆã€‚

### å¦‚ä½•å¯ç”¨é™ä»·å•

åœ¨ `config.json` é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```json
"order_types": {
  "entry": "limit",
  "exit": "limit"
}
```
è¿™æ ·ï¼ŒFreqtrade ä¼šåœ¨ä¹°å–æ—¶ä½¿ç”¨é™ä»·å•ï¼Œç¡®ä¿ä¸Šè¿°è‡ªå®šä¹‰é€»è¾‘ç”Ÿæ•ˆã€‚


## æ€»ç»“
æŒ‚å•ä»·æ ¼å’ŒæŒ‚å•æ—¶æ•ˆç®¡ç†æ˜¯æé«˜äº¤æ˜“æ‰§è¡Œè´¨é‡çš„å…³é”®ã€‚
- é€šè¿‡ `custom_entry_price`ï¼Œä½ å¯ä»¥æ ¹æ®å¸‚åœºçŠ¶å†µå’Œç­–ç•¥é£æ ¼ï¼Œè‡ªå®šä¹‰ä¹°å…¥æŒ‚å•ä»·æ ¼ï¼Œå®ç°æ›´åˆç†çš„ä¹°å…¥æˆæœ¬æ§åˆ¶ã€‚
- åˆ©ç”¨ `check_entry_timeout` å’Œ `check_exit_timeout`ï¼Œèƒ½å¤Ÿé˜²æ­¢æŒ‚å•é•¿æ—¶é—´ä¸æˆäº¤ï¼Œé¿å…èµ„é‡‘è¢«æ— æ•ˆå ç”¨ï¼Œæé«˜èµ„é‡‘ä½¿ç”¨æ•ˆç‡ã€‚
- ç»“åˆé™ä»·å•é…ç½®ï¼Œè¿™ä¸‰è€…å½¢æˆä¸€ä¸ªå®Œæ•´çš„æŒ‚å•ç®¡ç†ä½“ç³»ï¼Œä¸ºä½ çš„ç­–ç•¥ä¿é©¾æŠ¤èˆªã€‚

å®ç°ç²¾ç»†çš„æŒ‚å•ç®¡ç†ï¼Œèƒ½æœ‰æ•ˆé¿å…æŒ‚å•è¢«ç¬é—´åƒæ‰ã€æŒ‚å•é•¿æ—¶é—´æœªæˆäº¤æˆ–é”™å¤±æ›´ä¼˜ä»·æ ¼çš„å°´å°¬ï¼Œè®©äº¤æ˜“æ›´ç¨³å¥ã€æ›´é«˜æ•ˆï¼