> > 本文为 [https://www.itrade.icu](https://www.itrade.icu) 量化交易实验室出品。访问获取更多福利

访问获取更多福利


# 📘 RSI 相对强弱指标 解析：动量王者的应用指南

---

## 一、基础概念

RSI（Relative Strength Index，相对强弱指数）是一种常见的`动量类技术指标`，由技术分析大师 J. Welles Wilder 于 1978 年提出。

其核心目的是衡量`一段时间内价格上涨与下跌的动能对比`，用以判断市场是否处于超买或超卖状态。

### 名次解释
- 动能：
    - RSI 中的“动能”指的是价格在一定周期内上涨或下跌的**强弱程度**，具体来说，就是衡量价格变动的速率和力度。动能就像汽车的加减速感.


---

## 二、计算详解

RSI（Relative Strength Index，相对强弱指数）的计算过程可拆解为以下几个步骤：

---

#### ✅ 第一步：计算每根 K 线的涨跌幅（change）

计算当前收盘价与前一根 K 线收盘价之间的差值：

```
change_t = close_t - close_(t-1)
```

根据涨跌情况拆分为“上涨值”（gain）与“下跌值”（loss）：

```
gain_t = max(change_t, 0)
loss_t = max(-change_t, 0)
```

* 如果价格上涨，则 gain > 0，loss = 0；
* 如果价格下跌，则 gain = 0，loss > 0；
* 如果持平，则 gain = loss = 0。

---

#### ✅ 第二步：计算平均上涨值与平均下跌值

使用 `N` 日的移动平均（默认为 14），计算平滑的平均上涨与下跌值。

第一次计算使用简单平均（SMA）：

```
AvgGain_14 = (gain_1 + gain_2 + ... + gain_14) / 14
AvgLoss_14 = (loss_1 + loss_2 + ... + loss_14) / 14
```

从第 15 根开始使用指数平滑法（Wilder's smoothing）：

```
AvgGain_t = (AvgGain_(t-1) * (N - 1) + gain_t) / N
AvgLoss_t = (AvgLoss_(t-1) * (N - 1) + loss_t) / N
```

这种平滑方式比简单平均更贴近市场实际反应，更加稳定。

---

#### ✅ 第三步：计算相对强度（RS, Relative Strength）

```
RS = AvgGain / AvgLoss
```

它衡量了上涨力度与下跌力度的比值，表示当前趋势强度。

---

#### ✅ 第四步：计算 RSI 值

将 RS 套入公式，转换为 RSI 值，范围在 0\~100：

```
RSI = 100 - (100 / (1 + RS))
```

解释：

* 当上涨力度较强（RS 趋近无穷大）时，RSI → 100
* 当下跌力度较强（RS 接近 0）时，RSI → 0
* 当上涨与下跌力度相当时（RS = 1），RSI = 50（中性）

---




## 📌 RSI 指标计算示例（周期 14）
使用 `RSI 指标计算`的完整案例，我们以`周期 14`为例，展示从收盘价中计算 RSI 的全过程：
### ✅ 输入数据：收盘价序列（假设为 20 根 K 线）

```python
import pandas as pd

# 示例收盘价数据（20 根 K 线）
close_prices = [44.34, 44.09, 44.15, 43.61, 44.33,
                44.83, 45.10, 45.42, 45.84, 46.08,
                45.89, 46.03, 45.61, 46.28, 46.28,
                46.00, 46.03, 46.41, 46.22, 45.64]

df = pd.DataFrame({'close': close_prices})
```

---

### ✅ 计算步骤（周期 N=14）

```python
N = 14

# 第一步：计算 price change
df['change'] = df['close'].diff()

# 第二步：分别提取涨跌
df['gain'] = df['change'].apply(lambda x: x if x > 0 else 0)
df['loss'] = df['change'].apply(lambda x: -x if x < 0 else 0)

# 第三步：计算14日均值（初始值为简单平均）
df['avg_gain'] = df['gain'].rolling(N).mean()
df['avg_loss'] = df['loss'].rolling(N).mean()

# 第四步：计算 RS 和 RSI（最初14日之后）
df['rs'] = df['avg_gain'] / df['avg_loss']
df['rsi'] = 100 - (100 / (1 + df['rs']))
```

---

### ✅ 结果预览（后几行）

```python
print(df[['close', 'change', 'gain', 'loss', 'avg_gain', 'avg_loss', 'rsi']].tail(5))
```

输出示例（简化）： 
本次计算的是`RSI14`所以前14根是无RSI数据的，数据是从`第15根`开始计算得出。

| 序号 | 收盘价 (close) | 涨跌幅 (change) | 上涨值 (gain) | 下跌值 (loss) | 平均上涨 (avg_gain) | 平均下跌 (avg_loss) | RSI    |
|------|----------------|------------------|----------------|----------------|----------------------|----------------------|--------|
| 15   | 46.00          | -0.28            | 0.00           | 0.28           | 0.5664               | 0.2750               | 67.47  |
| 16   | 46.03          | 0.03             | 0.03           | 0.00           | 0.5380               | 0.2550               | 67.83  |
| 17   | 46.41          | 0.38             | 0.38           | 0.00           | 0.5474               | 0.2364               | 69.41  |
| 18   | 46.22          | -0.19            | 0.00           | 0.19           | 0.5073               | 0.2353               | 68.32  |
| 19   | 45.64          | -0.58            | 0.00           | 0.58           | 0.4705               | 0.2632               | 64.13  |


---



## 三、交易信号

| RSI 数值 | 市场状态 | 含义        |
| ------ | ---- | --------- |
| > 70   | 超买区域 | 可能短期回调或反转 |
| < 30   | 超卖区域 | 可能反弹或止跌   |
| 50 附近  | 中性区域 | 市场无明显趋势   |

可结合价格行为、支撑阻力、K线形态等进一步确认。


---

## 四、RSI 指标的优缺点详解

---

### ✅ 优点详解

#### 1. `灵敏度高，适合震荡行情`

RSI 对价格变化反应迅速，特别是在`区间震荡`的市场环境中，超买（>70）和超卖（<30）信号非常有效。

✅ `实用场景举例`：

* 在横盘区间中，一旦 `RSI 接近 30 并反弹`，常是不错的买入信号；
* RSI 到达 70 后回落，也能作为短线卖出时机。

> 这类策略在币圈交易中如 BTC、ETH 等稳定币种的箱体震荡中效果很好。

---



#### 3. `背离信号可预警拐点`

RSI 可结合价格出现“`顶背离/底背离`”，提前捕捉拐点：

* `顶背离`：价格创新高，但 RSI 未创新高 → 预示上涨动能减弱，或将反转；
* `底背离`：价格创新低，但 RSI 未创新低 → 多为筑底信号。

这是 RSI 最有价值的用途之一。

---

### ❌ 缺点详解

#### 1. 单独使用易出现假信号

在市场噪声较大、走势不明朗时，RSI 的“超买”与“超卖”信号经常给出误导。

例如：

> RSI < 30 发出“超卖”信号，但价格仍持续下跌。

这类假信号在下跌趋势中尤为常见。

---

#### 2. **在强趋势行情中失效**

RSI 是一个“震荡指标”，在趋势行情中会频繁给出反向信号，而实际价格却继续沿趋势前行。

📉 **例如：**

* 在强势多头中，RSI 可能长时间维持在 70\~90；
* 如果此时根据 RSI > 70 做空，往往是**逆势抄顶**，容易爆亏。

> 所以在趋势中使用 RSI，**必须结合趋势判断、均线或通道系统进行过滤**。

---

#### 3. **无法识别趋势方向**

RSI 本质是“动量指标”，仅衡量涨跌强度，**无法判断趋势方向是否反转或延续**。

例如：

* RSI 上升可能是短期反弹；
* RSI 下跌可能只是回调，并非趋势转空。

因此需要与 MACD、EMA、趋势线等配合使用，才能判断趋势转折。

---



### ✅ 建议用法总结

| 场景   | RSI 推荐用法                    |
| ---- | --------------------------- |
| 区间震荡 | RSI 超买/超卖 作为主要信号            |
| 趋势上涨 | RSI 背离 作为辅助出场信号             |
| 趋势下跌 | RSI 背离 作为低吸预警，但需谨慎          |
| 编程选币 | RSI < 30 并反弹作为选股因子（需加入趋势过滤） |

---



## 五、RSI 背离：原理、算法与实战应用

`背离`指的是`价格走势与 RSI 指标之间出现“不一致”的方向变化`。这通常被解释为“趋势动能减弱”，预示着可能发生趋势反转。

---

### 一、RSI 背离的两种类型

| 背离类型                    | 条件（价格 vs RSI）    | 含义            | 信号强度   |
| ----------------------- | ---------------- | ------------- | ------ |
| 顶背离（Bearish Divergence） | 价格创新高，但 RSI 未创新高 | 上涨动能减弱，可能反转向下 | 强烈看空信号 |
| 底背离（Bullish Divergence） | 价格创新低，但 RSI 未创新低 | 下跌动能减弱，可能反转向上 | 强烈看多信号 |

---

###  案例图解（文字版）：

#### 顶背离示意：
```
价格走势：
  高点1        高点2
     /‾‾‾‾‾‾‾\
    /          \
   /            \
--/              \---

RSI走势：
  高点1        高点2
     /‾‾‾\
    /     \
---         \___

价格创新高，RSI 却降低（未创新高） → 顶背离 → 空头预警
```

#### 底背离示意：

```
价格走势：
    低点1        低点2
     \          /
      \        /
       \______/

RSI走势：
    低点1        低点2
       \__    
          \_____/‾

价格创新低，RSI 却上升（未创新低） → 底背离 → 多头预警
```

---


### 二、RSI 背离详解（含模拟案例）
**背离（Divergence）**是指价格和 RSI 指标的运行方向发生**“分歧”**，代表当前的趋势动力出现衰减，有潜在的**反转信号**。

| 类型  | 含义               | 意义            |
| --- | ---------------- | ------------- |
| 顶背离 | 价格创新高，但 RSI 未创新高 | 多头动能衰竭，或将下跌   |
| 底背离 | 价格创新低，但 RSI 未创新低 | 空头动能衰竭，或将反弹上涨 |

---

###  三、模拟数据案例

#### ▶ 顶背离（Bearish Divergence）

假设某标的近期价格走势如下：

| 时间点 | 收盘价 | RSI                   |
| --- | --- | --------------------- |
| T1  | 98  | 70                    |
| T2  | 100 | 73                    |
| T3  | 102 | 68  ← RSI 高点          |
| T4  | 105 | 65  ← RSI 开始回落（顶背离出现） |

**解释**：

* 从 T2 → T4，价格不断`创新高`（100 → 105）
* 但 RSI 却在 T2 达到顶点（73），随后 `未创新高`（变成 68、65）
* 出现`价格新高，RSI走低` → 顶背离

🔎 `信号含义`：多头动能减弱，行情可能回落，常出现在上涨尾声

---

#### ▶ 底背离（Bullish Divergence）

| 时间点 | 收盘价 | RSI                    |
| --- | --- | ---------------------- |
| T1  | 50  | 30                     |
| T2  | 48  | 28                     |
| T3  | 45  | 32  ← RSI 低点出现         |
| T4  | 43  | 35  ← RSI 上升但价格新低（底背离） |

`解释`：

* 价格一路创新低（50 → 43）
* RSI 却在价格最低点（T4）时反而`没有同步创新低`
* 反而从 28 → 32 → 35 有所`回升`

🔎 `信号含义`：空头动能减弱，行情有可能即将反弹，常出现在下跌尾部。

---

###  四、RSI 背离的本质逻辑

> 背离≠反转，背离只是一个“警告信号”。

* RSI 背离意味着`动能没跟上价格`，即 RSI 不支持当前趋势持续发展。
* 本质上是`价格惯性`与“`动量弱化`”之间的分歧。
* 最佳用法是结合：成交量变化、K线形态、支撑阻力位，确认趋势反转。

---



#### ✅ 使用建议：

| 配合项       | 用途                 |
| --------- | ------------------ |
| ✅ 成交量（放量） | 背离 + 放量，反转更可靠      |
| ✅ 支撑/阻力位  | 背离发生在关键位时更有效       |
| ✅ K 线形态确认 | 结合锤头线、吞没、星形等       |
| ✅ 均线过滤    | 背离出现在均线之上或之下判断多空结构 |

---

#### ⚠ 风险提示：

* RSI 背离不是“立即反转”的信号，而是“动能减弱”的信号；
* 它可能滞后、也可能失败（如在强趋势中会持续背离）；
* 需结合趋势结构判断主力方向，切勿孤立使用 RSI 背离抄顶抄底。

---



## 六、高级技巧详解

---

### 🎯 1. 动态阈值调节：自适应波动率的 RSI

**传统 RSI 阈值**通常设为：

* 超买：RSI > 70（可能下跌）
* 超卖：RSI < 30（可能反弹）

但不同币种或股票的**波动率差异很大**，固定阈值会产生大量**误报或漏报**。

---

#### ✅ 优化方式：

根据资产的波动性动态调整阈值：

| 波动类型   | 建议阈值（超买 / 超卖） |
| ------ | ------------- |
| 高频震荡币  | 80 / 20（更严格）  |
| 趋势型资产  | 70 / 30（默认）   |
| 低波动稳定币 | 60 / 40（更灵敏）  |

---

#### 🔍 举例说明：

假设某山寨币平时涨跌幅动辄 10% 以上，使用传统 RSI < 30 可能经常被提前“套牢”。
将其阈值调整为 RSI < 20，只有在**极度恐慌**时才判断为“超卖”，更稳健。

---

#### ⚠️ 注意：

* 动态阈值可结合布林带宽度、历史 ATR、StdDev 等自动设定
* 不要随意使用统一阈值来套所有品种

---

### 🎯 2. RSI + EMA 组合过滤：剔除反向信号

RSI 虽可捕捉超买超卖，但在**震荡或趋势反转初期**易产生虚假信号。

---

#### ✅ 改进方式：

> 加入 EMA（如 EMA20 或 EMA50）作为趋势判断过滤器，只在**趋势方向一致时**启用 RSI 信号。

---

#### 📘 策略规则示例：

* 当 RSI < 30 且价格在 EMA20 **上方** → 仅当趋势仍多头时才考虑进场
* 当 RSI > 70 且价格跌破 EMA20 → 仅在空头趋势中触发平仓或反转信号

---

#### 🔍 实战优势：

* 避免在上涨趋势中因“RSI超买”而过早出场
* 滤除逆势 RSI 信号，提高胜率

---

### 🎯 3. 多周期 RSI 共振：确认趋势强度

不同周期的 RSI 代表**不同级别的动能**：

* 1h RSI → 短期情绪
* 4h RSI → 中期趋势
* 日线 RSI → 宏观趋势

---

#### ✅ 应用方法：

> 同时观察多周期 RSI 是否**共振方向一致**，来判断信号可靠性。

---

#### 📘 示例：

| 周期 | RSI 值 | 含义    |
| -- | ----- | ----- |
| 1h | 28    | 超卖    |
| 4h | 32    | 也接近超卖 |
| 日线 | 45    | 中性    |

→ 多周期 RSI 全部偏低，说明行情**广泛处于低点区域**，可考虑分批布局。

---

#### ⚠️ 注意：

* 共振不等于同步，允许滞后和结构错位
* 不宜使用太多周期，否则会造成“分析瘫痪”

---


### 🧠 小结

| 技巧        | 核心目标       | 增强维度   |
| --------- | ---------- | ------ |
| 动态阈值      | 自适应不同波动率资产 | 灵活性    |
| RSI + EMA | 避免逆势信号     | 趋势过滤   |
| 多周期共振     | 提升方向确认度    | 多级确认   |


---

## 七、RSI实战策略

以下案例`RsiEmaStrategy` 结合了超卖反弹信号（RSI < 30）与趋势确认信号（价格高于 EMA50），属于一个谨慎而保守的趋势反转策略。

```python
from freqtrade.strategy.interface import IStrategy
from pandas import DataFrame
import talib.abstract as ta

class RsiEmaStrategy(IStrategy):
    timeframe = '1h'
    minimal_roi = {"0": 0.1}
    stoploss = -0.05

    def populate_indicators(self, df: DataFrame, metadata: dict) -> DataFrame:
        # 计算 RSI 和 EMA
        df['rsi'] = ta.RSI(df, timeperiod=7)
        df['ema20'] = ta.EMA(df, timeperiod=50)
        return df

    def populate_entry_trend(self, df: DataFrame, metadata: dict) -> DataFrame:
        # 仅在 RSI < 30 且当前价格 > EMA20（上涨趋势）时考虑做多
        print(df[['close', 'rsi', 'ema20']].tail(20))
        df.loc[
            (df['rsi'] < 30) &
            (df['close'] > df['ema20']),
            'enter_long'
        ] = 1
        return df

    def populate_exit_trend(self, df: DataFrame, metadata: dict) -> DataFrame:
        # RSI > 70 且价格不低于 EMA20，可考虑平仓
        df.loc[
            (df['rsi'] > 70) &
            (df['close'] >= df['ema20']),
            'exit_long'
        ] = 1
        return df

```
### 📊 策略回测报告：RsiEmaStrategy
2024-06-01 00:00:00 -> 2024-08-01 00:00:00
| 指标项          | 数值                 |
| ------------ | ------------------ |
| 📈 策略名称      | `RsiEmaStrategy`   |
| 📊 总交易次数     | 5 次                |
| 🧮 平均单笔收益率   | **+0.51%**         |
| 💰 总收益（USDT） | **+8.205 USDT**    |
| 📈 总收益率      | **+0.82%**         |
| ⏱ 平均持仓时间     | 22 小时 36 分钟        |
| ✅ 胜率（Win%）   | **80.0%** （4胜 1负）  |
| 📉 最大回撤      | **0 USDT / 0.00%** |

> 🧪提示： 可结合布林带、MACD 等其他指标进一步优化进出场点

---


##  九、总结
RSI 是一个历史悠久、广受欢迎的**动量指标**，在震荡行情中表现出色，能够有效识别**超买超卖区域**，为交易者提供潜在反转信号。
然而，在**强趋势市场**中，RSI 信号常常失真，单独使用容易**过早进场或出场**。因此，建议将 RSI 与趋势类工具（如 **EMA**、**MACD**、**布林带**）或**价格行为逻辑**搭配使用，以提高信号的稳定性和可靠性。

---

